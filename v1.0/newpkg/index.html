<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Adding a new package · JuliaReachDevDocs</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/juliareach.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuliaReachDevDocs</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Adding a new package</a><ul class="internal"><li><a class="toctext" href="#Creating-the-github-repository-1">Creating the github repository</a></li><li><a class="toctext" href="#Creating-the-Julia-package-1">Creating the Julia package</a></li><li><a class="toctext" href="#Deploying-the-documentation-1">Deploying the documentation</a></li><li><a class="toctext" href="#Integrating-the-repository-with-gitter-1">Integrating the repository with gitter</a></li><li><a class="toctext" href="#Adding-requirements-1">Adding requirements</a></li><li><a class="toctext" href="#Adding-code-coverage-1">Adding code coverage</a></li></ul></li><li><a class="toctext" href="../workflow/">Git workflow</a></li><li><a class="toctext" href="../release/">Creating a new release</a></li><li><a class="toctext" href="../guidelines/">Coding guidelines</a></li><li><a class="toctext" href="../about/">About</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Adding a new package</a></li></ul><a class="edit-page" href="https://github.com/JuliaReach/JuliaReachDevDocs/blob/master/docs/src/newpkg.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Adding a new package</span><a class="fa fa-bars" href="#"></a></div></header><ul><li><a href="#Adding-a-new-package-1">Adding a new package</a></li><ul><li><a href="#Creating-the-github-repository-1">Creating the github repository</a></li><li><a href="#Creating-the-Julia-package-1">Creating the Julia package</a></li><ul><li><a href="#Using-JuliaReachTemplatePkg-1">Using <code>JuliaReachTemplatePkg</code></a></li><li><a href="#Using-PkgTemplates-1">Using <code>PkgTemplates</code></a></li></ul><li><a href="#Deploying-the-documentation-1">Deploying the documentation</a></li><li><a href="#Integrating-the-repository-with-gitter-1">Integrating the repository with gitter</a></li><li><a href="#Adding-requirements-1">Adding requirements</a></li><li><a href="#Adding-code-coverage-1">Adding code coverage</a></li></ul></ul><h1><a class="nav-anchor" id="Adding-a-new-package-1" href="#Adding-a-new-package-1">Adding a new package</a></h1><h2><a class="nav-anchor" id="Creating-the-github-repository-1" href="#Creating-the-github-repository-1">Creating the github repository</a></h2><p>To create an empty repository, go to your user name and click on <code>New</code>. If you have write access to the <a href="http://juliareach.org">JuliaReach</a> org, click on <code>New</code> on the top-right or go to the link <a href="https://github.com/organizations/JuliaReach/repositories/new">Create a new repository</a>.</p><h2><a class="nav-anchor" id="Creating-the-Julia-package-1" href="#Creating-the-Julia-package-1">Creating the Julia package</a></h2><h3><a class="nav-anchor" id="Using-JuliaReachTemplatePkg-1" href="#Using-JuliaReachTemplatePkg-1">Using <code>JuliaReachTemplatePkg</code></a></h3><p>The github repository <a href="https://github.com/JuliaReach/JuliaReachTemplatePkg">JuliaReachTemplatePkg</a> contains a template package for JuliaReach projects.</p><h3><a class="nav-anchor" id="Using-PkgTemplates-1" href="#Using-PkgTemplates-1">Using <code>PkgTemplates</code></a></h3><p>Alternatively, an easy way to create an empty package is to use <a href="https://github.com/invenia/PkgTemplates.jl">PkgTemplates</a>. An example is given below:</p><pre><code class="language-julia">julia&gt; using PkgTemplates

julia&gt; t = Template(; user=&quot;JuliaReach&quot;, license=&quot;MIT&quot;,
                      authors=[&quot;Marcelo Forets&quot;, &quot;Benoît Legat&quot;, &quot;Christian Schilling&quot;],
                      plugins=[TravisCI(), Codecov(), AppVeyor(), GitHubPages()])

julia&gt; generate(&quot;MathematicalSets&quot;, t)</code></pre><p>Some settings are used in JuliaReach&#39;s projects: </p><ul><li>update the README</li><li>add the style for docs in <code>docs/assets/juliareach.css</code></li></ul><h2><a class="nav-anchor" id="Deploying-the-documentation-1" href="#Deploying-the-documentation-1">Deploying the documentation</a></h2><p>Follow the guidelines described in <a href="https://juliadocs.github.io/Documenter.jl/stable/man/hosting/">Documenter.jl&#39;s manual: Hosting documentation</a>.</p><h2><a class="nav-anchor" id="Integrating-the-repository-with-gitter-1" href="#Integrating-the-repository-with-gitter-1">Integrating the repository with gitter</a></h2><p>Github uses <a href="https://developer.github.com/webhooks/">Webhooks</a> to set up GitHub Apps which subscribe to certain events on github repositories. To make your newly created package under <code>https://github.com/JuliaReach</code> to be integrated with the main gitter channel <code>https://gitter.im/JuliaReach/Lobby</code>, do the following steps:</p><ol><li><p>In gitter, go to <em>Room settings</em>, then click on <em>Integrations</em>.</p></li><li><p>Select <em>Add an integration (Github)</em>.</p></li><li><p>You may be asked to grant write access.</p></li><li><p>In the tab <em>Pick which repositories you want to subscribe to:</em>, select the new created project.</p></li></ol><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If the project is hosted under the org, gitter should have been granted write access to it; see <a href="https://gitlab.com/gitlab-org/gitter/webapp/blob/develop/docs/faq.md#what-happens-if-i-rename-something-on-github-org-repo">this FAQ</a> for details.</p></div></div><h2><a class="nav-anchor" id="Adding-requirements-1" href="#Adding-requirements-1">Adding requirements</a></h2><p>These are links we have found useful:</p><ul><li><a href="https://julialang.github.io/Pkg.jl/dev/creating-packages/#Test-specific-dependencies-1">Testing specific dependencies</a></li><li><a href="https://discourse.julialang.org/t/pkg-api-for-getting-uuid-of-another-package/15061/2">Getting a valid uuid</a>:</li></ul><pre><code class="language-julia">julia&gt; using Pkg

julia&gt; Pkg.METADATA_compatible_uuid(&quot;LazySets&quot;)
UUID(&quot;b4f0291d-fe17-52bc-9479-3d1a343d9043&quot;)</code></pre><h2><a class="nav-anchor" id="Adding-code-coverage-1" href="#Adding-code-coverage-1">Adding code coverage</a></h2><p>Enable <a href="https://codecov.io/">codecov</a> in the <code>.travis.yml</code> file:</p><pre><code class="language-julia">codecov: true
language: julia
...</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../workflow/"><span class="direction">Next</span><span class="title">Git workflow</span></a></footer></article></body></html>
